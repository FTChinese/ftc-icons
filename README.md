This repository is based on [fticons](https://github.com/Financial-Times/fticons).

## Install
```
bower install ftc-icons
```

If you specify `inludePaths: 'bower_components'` in `node-sass`, just import the `main.scss` file below:

```
@import "ftc-icons/main.scss"
```

To view demos, run:

    gulp serve

## Usage

### Mixins

- `@mixin oIconsSassvg($icon-name, $color:null, $container-width: 20, $container-height: null, $apply-base-styles: true)`

A wrapper for mixins generated by `gulp-sassvg`. SVG files was turned into datauri and will be inserted into css file directly.

- `@mixin oIconsGetSvg($icon-name, $container-width: 20, $container-height: null, $apply-base-styles: true)`

Use invidual svg file as background with png fallback.

- `@mixin oIconsSvgSprite($icon-name, $color: null, $width: 20, $height:null)`

Set styles for `svg` referencing sprite fragment.


### Use SVG files

Minified SVG icons is under the folder `svg`.

### Use PNG files

PNG files are generated from SVGs, put into `static/png`.

### Use SVG sprite

You can use a sprited svg file `static/sprites/all.svg`. This file combines all the separate svg icons and put each in a `symbol` element, each having an `id` named after the individual svg file's name (without the `.svg` extension). In you HTML makrup, you can insert icons with id fragment:
```
<svg>
	<use xlink:href="sprite/ftc-icons-symbol.svg#brand-ftc" />
</svg>
```

## Commands

### Gulp

- `gulp svgmin` Get svg files from submodule `fticons`, minify, and put in `./svg` folder.

- `gulp templates` Get svg files from submodule `fticons`, minify, transform each file into a template to be used for `image-services` to dynamically generate icons of different color on request.

- `gulp sassvg` Use `gulp-sassvg` to transform svg into scss functions and mixins so that svg contents could be included directly in css.

- `gulp svgstore` Combine svg files into one file, each svg content transformed into a `symbol` element. Folder `./static/sprite`

- `gulp svg2png` Convert svg to png. PNG files in `./static/png`

- `gulp build` Run all above tasks.

### NPM scripts
You can use `npm run <command>` without depending on gulp.

#### Generate or update icon list
```
npm run buildlist
```
Collect all svg names into an array and write data to `./icon-list.json`.

#### Generate partials
```
npm run partials
```
Turn each svg file into a svg symbol element. They can used as partials file to be included in html with an `id` referenced this way:

```
<svg>
	<use xlink:href="#o-icons__arrow-up" />
</svg>
```

This might bloat up you html file and the same icon could never be cached and reused.

#### Convert svg to png
```
npm run svg2png
```

Same as `gulp svg2png` but you can use the latest version of `svg2png`.

#### Generate a single icon
```
npm run icon -- -i=<icon-name> -c=<color>
```
Generate the svg and png version of a single icon. Put under `.tmp` folder. `<color>` is the color you normally would use in css. `<icon-name>` is the icon's file name without extension:

```
npm run icon -- -i=arrow-down -c=#505050
```

#### Generate a custom svg sprite
Specify which icons you want to combine into a svg symbol file.
```
node run sprite -- -i <icons> -o <output-name>
```
`-o, --output` is the target file name. If omitted, the target file will use a name by combining specified icon name with separated by `_`.

Example:

```
node run sprite -- -i arrow-up arrow-down
```
will generate a file named `arrow-up_arrow-down.svg` under `static/sprite`.
